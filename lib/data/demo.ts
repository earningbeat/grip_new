import type { StockData } from '@/lib/utils/filters';
import type { GripStatus } from '@/types';

// 고정 timestamp (SSR/CSR 불일치 방지)
const DEMO_TIMESTAMP = '2026-01-09T00:00:00.000Z';

/**
 * GRIP 데모 데이터 (API 접근 불가 시 폴백)
 * 
 * GRIP = Growth Re-rating Inflection Point
 * - PEG < 1.5: 고성장주
 * - Forward PEG < 1.5: 리레이팅 진입 예정
 */
export const DEMO_DATA: StockData[] = [
    {
        ticker: "NVDA",
        name: "NVIDIA Corporation",
        sector: "Technology",
        price: 142.50,
        marketCap: 3520000000000,
        ttmEps: 2.13,
        fy1Eps: 3.45,
        fy2Eps: 4.82,
        ntmEps: 4.14,
        ttmPe: 66.90,
        forwardPe: 34.42,
        fy2Pe: 29.57,
        gapRatio: 1.944,
        deltaPe: 32.48,
        epsGrowthRate: 94.4,
        forwardEpsGrowth: 39.7,
        peg: 0.71,
        forwardPeg: 0.87,
        gripScore: 2.48,
        gripStatus: 'high' as GripStatus,
        turnaroundRatio: null,
        gripTsScore: null,
        fiscalYearEndMonth: 1,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "SMCI",
        name: "Super Micro Computer Inc",
        sector: "Technology",
        price: 58.20,
        marketCap: 34200000000,
        ttmEps: 1.42,
        fy1Eps: 2.35,
        fy2Eps: 3.18,
        ntmEps: 2.77,
        ttmPe: 40.99,
        forwardPe: 21.01,
        fy2Pe: 18.30,
        gapRatio: 1.951,
        deltaPe: 19.98,
        epsGrowthRate: 95.1,
        forwardEpsGrowth: 35.3,
        peg: 0.43,
        forwardPeg: 0.60,
        gripScore: 2.34,
        gripStatus: 'high' as GripStatus,
        turnaroundRatio: null,
        gripTsScore: null,
        fiscalYearEndMonth: 6,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "COIN",
        name: "Coinbase Global Inc",
        sector: "Financials",
        price: 278.90,
        marketCap: 70200000000,
        ttmEps: 5.28,
        fy1Eps: 8.45,
        fy2Eps: 12.20,
        ntmEps: 10.33,
        ttmPe: 52.82,
        forwardPe: 27.00,
        fy2Pe: 22.86,
        gapRatio: 1.956,
        deltaPe: 25.82,
        epsGrowthRate: 95.6,
        forwardEpsGrowth: 44.4,
        peg: 0.55,
        forwardPeg: 0.61,
        gripScore: 2.31,
        gripStatus: 'high' as GripStatus,
        turnaroundRatio: null,
        gripTsScore: null,
        fiscalYearEndMonth: 12,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "PLTR",
        name: "Palantir Technologies Inc",
        sector: "Technology",
        price: 78.90,
        marketCap: 180000000000,
        ttmEps: 0.38,
        fy1Eps: 0.58,
        fy2Eps: 0.82,
        ntmEps: 0.70,
        ttmPe: 207.63,
        forwardPe: 112.71,
        fy2Pe: 96.22,
        gapRatio: 1.842,
        deltaPe: 94.92,
        epsGrowthRate: 84.2,
        forwardEpsGrowth: 41.4,
        peg: 2.47,
        forwardPeg: 1.08,
        gripScore: 2.12,
        gripStatus: 'potential' as GripStatus,
        turnaroundRatio: null,
        gripTsScore: null,
        fiscalYearEndMonth: 12,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "SNOW",
        name: "Snowflake Inc",
        sector: "Technology",
        price: 175.20,
        marketCap: 58500000000,
        ttmEps: 0.62,
        fy1Eps: 0.95,
        fy2Eps: 1.42,
        ntmEps: 1.19,
        ttmPe: 282.58,
        forwardPe: 147.23,
        fy2Pe: 123.38,
        gapRatio: 1.919,
        deltaPe: 135.35,
        epsGrowthRate: 91.9,
        forwardEpsGrowth: 49.5,
        peg: 3.07,
        forwardPeg: 1.25,
        gripScore: 2.10,
        gripStatus: 'potential' as GripStatus,
        turnaroundRatio: null,
        gripTsScore: null,
        fiscalYearEndMonth: 1,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "MDB",
        name: "MongoDB Inc",
        sector: "Technology",
        price: 268.50,
        marketCap: 19800000000,
        ttmEps: 2.12,
        fy1Eps: 3.25,
        fy2Eps: 4.80,
        ntmEps: 4.03,
        ttmPe: 126.65,
        forwardPe: 66.63,
        fy2Pe: 55.94,
        gapRatio: 1.901,
        deltaPe: 60.02,
        epsGrowthRate: 90.1,
        forwardEpsGrowth: 47.7,
        peg: 1.41,
        forwardPeg: 0.89,
        gripScore: 2.08,
        gripStatus: 'high' as GripStatus,
        turnaroundRatio: null,
        gripTsScore: null,
        fiscalYearEndMonth: 1,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "AMD",
        name: "Advanced Micro Devices Inc",
        sector: "Technology",
        price: 125.40,
        marketCap: 203000000000,
        ttmEps: 1.85,
        fy1Eps: 2.68,
        fy2Eps: 3.95,
        ntmEps: 3.32,
        ttmPe: 67.78,
        forwardPe: 37.77,
        fy2Pe: 31.75,
        gapRatio: 1.795,
        deltaPe: 30.01,
        epsGrowthRate: 79.5,
        forwardEpsGrowth: 47.4,
        peg: 0.85,
        forwardPeg: 0.80,
        gripScore: 1.91,
        gripStatus: 'high' as GripStatus,
        turnaroundRatio: null,
        gripTsScore: null,
        fiscalYearEndMonth: 12,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "SHOP",
        name: "Shopify Inc",
        sector: "Technology",
        price: 112.40,
        marketCap: 145000000000,
        ttmEps: 1.15,
        fy1Eps: 1.72,
        fy2Eps: 2.45,
        ntmEps: 2.09,
        ttmPe: 97.74,
        forwardPe: 53.78,
        fy2Pe: 45.88,
        gapRatio: 1.817,
        deltaPe: 43.96,
        epsGrowthRate: 81.7,
        forwardEpsGrowth: 42.4,
        peg: 1.20,
        forwardPeg: 1.27,
        gripScore: 1.72,
        gripStatus: 'high' as GripStatus,
        turnaroundRatio: null,
        gripTsScore: null,
        fiscalYearEndMonth: 12,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "DDOG",
        name: "Datadog Inc",
        sector: "Technology",
        price: 142.80,
        marketCap: 47800000000,
        ttmEps: 1.45,
        fy1Eps: 2.05,
        fy2Eps: 2.85,
        ntmEps: 2.45,
        ttmPe: 98.48,
        forwardPe: 58.29,
        fy2Pe: 50.11,
        gapRatio: 1.689,
        deltaPe: 40.19,
        epsGrowthRate: 68.9,
        forwardEpsGrowth: 39.0,
        peg: 1.43,
        forwardPeg: 1.49,
        gripScore: 1.62,
        gripStatus: 'high' as GripStatus,
        turnaroundRatio: null,
        gripTsScore: null,
        fiscalYearEndMonth: 12,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "META",
        name: "Meta Platforms Inc",
        sector: "Communication Services",
        price: 612.80,
        marketCap: 1560000000000,
        ttmEps: 21.25,
        fy1Eps: 28.50,
        fy2Eps: 35.20,
        ntmEps: 31.85,
        ttmPe: 28.84,
        forwardPe: 19.24,
        fy2Pe: 17.41,
        gapRatio: 1.499,
        deltaPe: 9.60,
        epsGrowthRate: 49.9,
        forwardEpsGrowth: 23.5,
        peg: 0.58,
        forwardPeg: 0.82,
        gripScore: 1.06,
        gripStatus: 'high' as GripStatus,
        turnaroundRatio: null,
        gripTsScore: null,
        fiscalYearEndMonth: 12,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "GOOGL",
        name: "Alphabet Inc",
        sector: "Communication Services",
        price: 195.80,
        marketCap: 2410000000000,
        ttmEps: 7.85,
        fy1Eps: 9.42,
        fy2Eps: 11.15,
        ntmEps: 10.29,
        ttmPe: 24.94,
        forwardPe: 19.03,
        fy2Pe: 17.56,
        gapRatio: 1.311,
        deltaPe: 5.91,
        epsGrowthRate: 31.1,
        forwardEpsGrowth: 18.4,
        peg: 0.80,
        forwardPeg: 1.03,
        gripScore: 1.02,
        gripStatus: 'high' as GripStatus,
        turnaroundRatio: null,
        gripTsScore: null,
        fiscalYearEndMonth: 12,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "MSFT",
        name: "Microsoft Corporation",
        sector: "Technology",
        price: 438.20,
        marketCap: 3260000000000,
        ttmEps: 12.05,
        fy1Eps: 14.20,
        fy2Eps: 16.85,
        ntmEps: 15.53,
        ttmPe: 36.36,
        forwardPe: 28.22,
        fy2Pe: 26.01,
        gapRatio: 1.289,
        deltaPe: 8.14,
        epsGrowthRate: 28.9,
        forwardEpsGrowth: 18.7,
        peg: 1.26,
        forwardPeg: 1.51,
        gripScore: 1.08,
        gripStatus: 'high' as GripStatus,
        turnaroundRatio: null,
        gripTsScore: null,
        fiscalYearEndMonth: 6,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "AAPL",
        name: "Apple Inc",
        sector: "Technology",
        price: 242.50,
        marketCap: 3720000000000,
        ttmEps: 6.92,
        fy1Eps: 7.85,
        fy2Eps: 8.92,
        ntmEps: 8.39,
        ttmPe: 35.04,
        forwardPe: 28.90,
        fy2Pe: 27.19,
        gapRatio: 1.212,
        deltaPe: 6.14,
        epsGrowthRate: 21.2,
        forwardEpsGrowth: 13.6,
        peg: 1.65,
        forwardPeg: 2.12,
        gripScore: 0.94,
        gripStatus: 'watch' as GripStatus,
        turnaroundRatio: null,
        gripTsScore: null,
        fiscalYearEndMonth: 9,
        lastUpdated: DEMO_TIMESTAMP
    }
];

/**
 * 데모 메타데이터
 */
export const DEMO_METADATA = {
    totalProcessed: 500,
    totalExcluded: 145,
    excludedReasons: {
        "TTM EPS ≤ 0": 68,
        "NTM EPS ≤ 0": 42,
        "Forward P/E > 300": 23,
        "Forward P/E < 1": 12
    },
    timestamp: DEMO_TIMESTAMP,
    processingTimeMs: 12540,
    gripThreshold: 1.5
};

/**
 * High-Beta 데모 데이터 (GRIP-TS)
 * TTM EPS ≤ 0이지만 Forward EPS > 0인 턴어라운드 후보 종목
 */
export const HIGH_BETA_DEMO_DATA: StockData[] = [
    {
        ticker: "RIVN",
        name: "Rivian Automotive Inc",
        sector: "Consumer Discretionary",
        price: 18.50,
        marketCap: 18500000000,
        ttmEps: -4.85,
        fy1Eps: -2.10,
        fy2Eps: 0.35,
        ntmEps: -0.88,
        ttmPe: null,
        forwardPe: null,
        fy2Pe: 52.86,
        gapRatio: null,
        deltaPe: null,
        epsGrowthRate: null,
        forwardEpsGrowth: null,
        peg: null,
        forwardPeg: null,
        gripScore: null,
        gripStatus: null,
        turnaroundRatio: 0.072,      // 0.35 / 4.85
        gripTsScore: 0.72,
        fiscalYearEndMonth: 12,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "DASH",
        name: "DoorDash Inc",
        sector: "Consumer Discretionary",
        price: 185.20,
        marketCap: 77800000000,
        ttmEps: -0.92,
        fy1Eps: 0.35,
        fy2Eps: 1.28,
        ntmEps: 0.82,
        ttmPe: null,
        forwardPe: 225.85,
        fy2Pe: 144.69,
        gapRatio: null,
        deltaPe: null,
        epsGrowthRate: null,
        forwardEpsGrowth: 265.7,
        peg: null,
        forwardPeg: 0.85,
        gripScore: null,
        gripStatus: 'potential' as GripStatus,
        turnaroundRatio: 1.39,       // 1.28 / 0.92
        gripTsScore: 16.35,          // (1/0.85) * 1.39 * 10
        fiscalYearEndMonth: 12,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "HOOD",
        name: "Robinhood Markets Inc",
        sector: "Financials",
        price: 42.30,
        marketCap: 37500000000,
        ttmEps: -0.28,
        fy1Eps: 0.45,
        fy2Eps: 0.92,
        ntmEps: 0.69,
        ttmPe: null,
        forwardPe: 61.30,
        fy2Pe: 45.98,
        gapRatio: null,
        deltaPe: null,
        epsGrowthRate: null,
        forwardEpsGrowth: 104.4,
        peg: null,
        forwardPeg: 0.59,
        gripScore: null,
        gripStatus: 'potential' as GripStatus,
        turnaroundRatio: 3.29,       // 0.92 / 0.28
        gripTsScore: 55.76,          // (1/0.59) * 3.29 * 10
        fiscalYearEndMonth: 12,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "PINS",
        name: "Pinterest Inc",
        sector: "Communication Services",
        price: 35.80,
        marketCap: 24200000000,
        ttmEps: -0.18,
        fy1Eps: 0.65,
        fy2Eps: 1.12,
        ntmEps: 0.89,
        ttmPe: null,
        forwardPe: 40.22,
        fy2Pe: 31.96,
        gapRatio: null,
        deltaPe: null,
        epsGrowthRate: null,
        forwardEpsGrowth: 72.3,
        peg: null,
        forwardPeg: 0.56,
        gripScore: null,
        gripStatus: 'potential' as GripStatus,
        turnaroundRatio: 6.22,       // 1.12 / 0.18
        gripTsScore: 111.07,         // (1/0.56) * 6.22 * 10
        fiscalYearEndMonth: 12,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "PATH",
        name: "UiPath Inc",
        sector: "Technology",
        price: 15.20,
        marketCap: 8600000000,
        ttmEps: -0.38,
        fy1Eps: 0.12,
        fy2Eps: 0.42,
        ntmEps: 0.27,
        ttmPe: null,
        forwardPe: 56.30,
        fy2Pe: 36.19,
        gapRatio: null,
        deltaPe: null,
        epsGrowthRate: null,
        forwardEpsGrowth: 250.0,
        peg: null,
        forwardPeg: 0.23,
        gripScore: null,
        gripStatus: 'potential' as GripStatus,
        turnaroundRatio: 1.11,       // 0.42 / 0.38
        gripTsScore: 48.26,          // (1/0.23) * 1.11 * 10
        fiscalYearEndMonth: 1,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "SNAP",
        name: "Snap Inc",
        sector: "Communication Services",
        price: 12.80,
        marketCap: 21200000000,
        ttmEps: -0.68,
        fy1Eps: -0.15,
        fy2Eps: 0.28,
        ntmEps: 0.07,
        ttmPe: null,
        forwardPe: 182.86,
        fy2Pe: 45.71,
        gapRatio: null,
        deltaPe: null,
        epsGrowthRate: null,
        forwardEpsGrowth: null,
        peg: null,
        forwardPeg: null,
        gripScore: null,
        gripStatus: null,
        turnaroundRatio: 0.41,       // 0.28 / 0.68
        gripTsScore: 0.41,           // Forward PEG 없어서 turnaroundRatio만
        fiscalYearEndMonth: 12,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "RBLX",
        name: "Roblox Corporation",
        sector: "Communication Services",
        price: 58.40,
        marketCap: 36800000000,
        ttmEps: -1.15,
        fy1Eps: -0.42,
        fy2Eps: 0.38,
        ntmEps: -0.02,
        ttmPe: null,
        forwardPe: null,
        fy2Pe: 153.68,
        gapRatio: null,
        deltaPe: null,
        epsGrowthRate: null,
        forwardEpsGrowth: null,
        peg: null,
        forwardPeg: null,
        gripScore: null,
        gripStatus: null,
        turnaroundRatio: 0.33,       // 0.38 / 1.15
        gripTsScore: 0.33,
        fiscalYearEndMonth: 12,
        lastUpdated: DEMO_TIMESTAMP
    },
    {
        ticker: "LCID",
        name: "Lucid Group Inc",
        sector: "Consumer Discretionary",
        price: 3.20,
        marketCap: 9600000000,
        ttmEps: -1.42,
        fy1Eps: -0.85,
        fy2Eps: 0.12,
        ntmEps: -0.37,
        ttmPe: null,
        forwardPe: null,
        fy2Pe: 26.67,
        gapRatio: null,
        deltaPe: null,
        epsGrowthRate: null,
        forwardEpsGrowth: null,
        peg: null,
        forwardPeg: null,
        gripScore: null,
        gripStatus: null,
        turnaroundRatio: 0.085,      // 0.12 / 1.42
        gripTsScore: 0.085,
        fiscalYearEndMonth: 12,
        lastUpdated: DEMO_TIMESTAMP
    }
];

/**
 * High-Beta 메타데이터
 */
export const HIGH_BETA_METADATA = {
    totalProcessed: 500,
    totalFound: 68,
    description: "TTM EPS ≤ 0 but Forward EPS > 0 (Turnaround Candidates)",
    timestamp: DEMO_TIMESTAMP,
    processingTimeMs: 8420
};
